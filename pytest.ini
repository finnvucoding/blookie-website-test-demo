[pytest]
# ================================================
# PYTEST CONFIGURATION FOR BLOG WEBSITE TESTING
# ================================================

# Python path (add project root to sys.path)
pythonpath = .

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Base directory for tests
testpaths = tests

# Markers (used for selective test execution)
markers =
    smoke: Quick smoke tests (critical paths only)
    regression: Full regression suite
    api: API-only tests
    ui: UI/Playwright tests
    auth: Authentication flow tests
    posts: Blog post related tests
    comments: Comment system tests
    interactions: Likes, votes, reactions tests
    communities: Community features tests
    admin: Admin panel tests
    slow: Tests that take > 30 seconds
    skip_ci: Skip in CI/CD pipeline
    search: Search functionality tests
    navigation: Sidebar and navigation tests
    profile: User profile page tests
    newsfeed: Homepage newsfeed tests

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s | %(levelname)-8s | %(name)s | %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = logs/pytest.log
log_file_level = DEBUG
log_file_format = %(asctime)s | %(levelname)-8s | %(module)s:%(lineno)d | %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Disable warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Pytest options
addopts =
    -v
    --strict-markers
    --tb=short
    --maxfail=3
    # Uncomment for parallel execution:
    # -n auto
    # Uncomment for Allure:
    # --alluredir=reports/allure-results
    # --clean-alluredir

# Minimum Python version
minversion = 3.10
